/*! museum-guide | Patrick Dorosz | ISC */

var museumMapApp=function(){"use strict";var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#736c68"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#e7e6e5"}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"on"},{color:"#d4e4d3"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f5f5f5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d4e4d3"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f5f5f5"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#e7e6e5"},{gamma:"0.65"},{lightness:"0"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#aad5df"}]}],t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),o=function(){function e(a,o){t(this,e),this.placesService=new window.google.maps.places.PlacesService(a),this.googleMapView=o}return a(e,[{key:"livePlacesSearch",value:function(e,t,a,o,i){function n(e,t){if(t===window.google.maps.places.PlacesServiceStatus.OK){var a=e.slice(0,10).map(function(e){return e.place_id});r.getDetailsFromPlaceIds(a,i)}else if(t===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT)window.setTimeout(function(){r.placesService.nearbySearch(l,n)},200);else{var o=new Error(t);r.googleMapView.loadPlacesSearchResults(o)}}var r=this,l={keyword:e,location:t,name:o,radius:1e4,type:a};r.placesService.nearbySearch(l,n)}},{key:"getDetailsFromPlaceIds",value:function(e,t){var a=this,o=e.map(function(e){return new Promise(function(t,o){a.getDetailsFromSinglePlaceId(e,t,o)})});Promise.all(o).then(a.formatResults).then(function(e){a.googleMapView.loadPlacesSearchResults(e,t)}).catch(function(e){a.googleMapView.loadPlacesSearchResults(e,t)})}},{key:"getDetailsFromSinglePlaceId",value:function(e,t,a){var o=this;o.placesService.getDetails({placeId:e},function(i,n){if(n===window.google.maps.places.PlacesServiceStatus.OK)t(i);else if(n===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT)window.setTimeout(function(){o.getDetailsFromSinglePlaceId(e,t,a)},200);else{var r=new Error(n);a(r)}})}},{key:"formatResults",value:function(e){return e.map(function(e){return{title:e.name,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},type:"general",place_id:e.place_id}})}}]),e}(),i=function(){return{getYelpInfoHtml:function(e,t){var a='<div class="yelp">';return a+='<img class="yelp__image" src='+e.image_url.replace(/o\.jpg$/,"l.jpg")+' alt="Museum">',a+='<div class="yelp__info">',a+='<a class="yelp__rating" href="'+e.url+'" target="_blank">',a+=function(e){var t=Math.floor(e),a=e-t==.5?"_half":"",o='<img src="img/yelp_stars_reg/regular_';return o+=""+t+a+'.png" srcset="img/yelp_stars_reg/',o+="regular_"+t+a+'@2x.png 2x">'}(e.rating)+"</a>",a+='<a target="_blank" href="'+e.url+'">',a+='<img class="yelp__logo" src="img/yelp_trademark_rgb_outline.png" ',a+='srcset="img/yelp_trademark_rgb_outline_2x.png 2x" alt="Yelp Logo">',a+="</a>",a+='<a class="yelp__reviews" href="'+e.url+'" target="_blank">Based ',a+="on <strong>"+e.review_count+"</strong> review",a+=(e.review_count>1?"s":"")+"</a>",a+='<address class="yelp__address">'+function(e,t){return e[e.length-1].toLowerCase()===t.toLowerCase()&&(e=e.slice(0,e.length-1)),e.join("<br>")}(e.location.display_address,t),a+="</address>",e.hasOwnProperty("is_open_now")?(a+='<p class="yelp__open-now-phone">Currently <strong>',a+=(e.is_open_now?"OPEN":"CLOSED")+"</strong><br>"):a+='<p class="yelp__open-now-phone">',a+="Phone: "+e.display_phone+"</p>",a+="</div>",a+="</div>"},fetchYelpInfo:function(e,t){var a=t+"/yelp-search?term="+e.title.replace(/\s+/g,"+")+"&";return a+="lat="+e.position.lat()+"&lng=",a+=""+e.position.lng(),function(e){return window.fetch(e,{method:"GET"}).catch(function(e){return Promise.reject(e)}).then(function(e){return e.ok?e:Promise.reject(new Error("api.yelp.com connection error"))}).then(function(e){return e.json()})}(a)}}}(),n=function(){var e='<div class="sk-circle">';return Array(12).fill().map(function(e,t){return t+1}).forEach(function(t){e+='<div class="sk-circle'+t+' sk-child"></div>'}),e+="</div>"}(),r=function(e){var t="abcdefghijklmnopqrstuvwxyz0123456789",a="";e=e||6;for(var o=0;o<e;o++)a+=t.charAt(Math.floor(Math.random()*t.length));return a},l=function(){function l(){t(this,l)}return a(l,null,[{key:"closeInfoWindow",value:function(){l.mainInfoWindow.close(),l.mainInfoWindow.marker=void 0,c.instance.setSelectedMarker(void 0)}},{key:"deleteMarkers",value:function(){l.markers.forEach(function(e){e.setMap(void 0)}),l.markers=[],c.instance.clearMarkersObservable(),l.currentBounds=new window.google.maps.LatLngBounds}},{key:"errorLoadMap",value:function(){window.alert("Unable to load Google Map at this time. Check your internet connection or try again later."),c.instance&&c.instance.notifyMapLoadFail(!0)}},{key:"hideListView",value:function(){var e=document.getElementsByClassName("sidebar");if(e[0].classList.contains("sidebar--show")){var t=!0,a=!1,o=void 0;try{for(var i,n=e[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var r=i.value;r.classList.add("sidebar--hide"),r.classList.remove("sidebar--show")}}catch(e){a=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw o}}}}},{key:"initMap",value:function(){var t=document.getElementsByClassName("map")[0];l.map=new window.google.maps.Map(t,{center:{lat:l.defaultPosition.lat,lng:l.defaultPosition.lng},zoom:12,styles:e}),l.placesSearch=new o(l.map,l);document.getElementsByClassName("sidebar-list__live-search-loading")[0].insertAdjacentHTML("afterbegin",n),window.onresize=l.onWindowResize,t.addEventListener("click",l.hideListView),l.markers=[],(l.mainInfoWindow=new window.google.maps.InfoWindow({maxWidth:250})).addListener("closeclick",function(){l.mainInfoWindow.marker=void 0,c.instance.setSelectedMarker(void 0)})}},{key:"livePlacesSearch",value:function(e,t,a){var o=r(5);l.currentSearchSessionHash=o,l.deleteMarkers(),l.placesSearch.livePlacesSearch(e,t,l.defaultType,a,o)}},{key:"loadMode",value:function(e,t){void 0!==l.mode&&l.modelCityObj===e&&"curated"===t&&"curated"===l.mode||(l.deleteMarkers(),l.modelCityObj=e,l.mode=t,"curated"===t&&l.loadMarkers(e.locations)),l.resetMap()}},{key:"loadMarkers",value:function(e){e.forEach(function(e){var t=new window.google.maps.Marker({position:e.position,title:e.title,animation:window.google.maps.Animation.DROP,icon:"img/icons/"+e.type+".png",map:l.map});t.addListener("click",function(){l.hideListView(),l.popInfoWindow(this)}),l.markers.push(t),l.currentBounds.extend(t.position)}),c.instance.markersReady(""),c.instance.markersReady(l.modelCityObj.cityName)}},{key:"loadPlacesSearchResults",value:function(e,t){t===l.currentSearchSessionHash&&(e instanceof Error?c.instance.searchPlacesCompleted("error"):0===e.length?c.instance.searchPlacesCompleted("noresults"):(l.deleteMarkers(),l.loadMarkers(e),l.map.fitBounds(l.currentBounds),c.instance.searchPlacesCompleted("success")))}},{key:"onWindowResize",value:function(){if(c.instance){var e=c.instance.getVisibleMarkers();e.length>1?l.mainInfoWindow.marker?(l.map.panTo(l.mainInfoWindow.marker.position),l.map.panBy(0,-340)):(l.resizeBounds=new window.google.maps.LatLngBounds,e.forEach(function(e){l.resizeBounds.extend(e.position)}),l.map.fitBounds(l.resizeBounds),l.resizeBounds=void 0,l.map.getZoom()>18&&l.map.setZoom(18)):1===e.length&&(l.map.panTo(e[0].position),l.map.panBy(0,-340))}if(window.matchMedia("(min-width: 768px)").matches){var t=document.getElementsByClassName("sidebar"),a=!0,o=!1,i=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){n.value.classList.remove("sidebar--show")}}catch(e){o=!0,i=e}finally{try{!a&&r.return&&r.return()}finally{if(o)throw i}}}}},{key:"popInfoWindow",value:function(e){function t(){var e=document.getElementsByClassName("info-window__arrows")[0],t="css: { 'btn--disabled': markersObservable().length < 2 }";e&&(e.children[0].setAttribute("data-bind","click: clickPrevArrow, "+t),e.children[1].setAttribute("data-bind","click: clickNextArrow, "+t),window.ko.applyBindings(c.instance,e))}function a(e,t){var a='<div class="info-window">';return a+='<div class="info-window__title"><strong>'+t+"</strong></div>",a+=e,a+=function(){var e='<div class="info-window__arrows">';return e+='<a href="#" role="button" class="btn info-window__arrows-prev"',e+=">&lt;</a>",e+='<a href="#" class="btn info-window__arrows-next" role="button"',e+=">&gt;</a>",e+="</div>"}(),a+="</div>"}if(l.toggleBounceMarker(e),l.mainInfoWindow.marker!==e){l.mainInfoWindow.marker=e,c.instance.setSelectedMarker(e),l.map.panTo(e.position),l.map.panBy(0,-340);var o=a(n,e.title);l.mainInfoWindow.setContent(o),l.mainInfoWindow.open(l.map,e),t(),i.fetchYelpInfo(e,l.corsServer).then(function(n){if(l.mainInfoWindow.marker===e)if(n){var r=i.getYelpInfoHtml(n,l.modelCityObj.country);o=a(r,e.title),l.mainInfoWindow.setContent(o),t()}else{var s="<p>This location's information is not found in Yelp's business ";o=a(s+="directory. Try a different location.</p>",e.title),l.mainInfoWindow.setContent(o),t()}}).catch(function(i){if(l.mainInfoWindow.marker===e){var n="<p>Unable to retrieve this location's Yelp data due to a ";o=a(n+="connection error. Please try again later.</p>","Loading Error"),l.mainInfoWindow.setContent(o),console.log(i),t()}})}}},{key:"queryBoundsExtend",value:function(e){l.queryBounds||(l.queryBounds=new window.google.maps.LatLngBounds),l.queryBounds.extend(e)}},{key:"queryBoundsFit",value:function(e){e&&l.map.fitBounds(l.queryBounds),l.queryBounds=void 0,l.map.getZoom()>18&&l.map.setZoom(18)}},{key:"resetMap",value:function(){"curated"===l.mode?l.map.fitBounds(l.currentBounds):"liveSearch"===l.mode&&(l.currentSearchSessionHash=void 0,l.deleteMarkers(),l.map.panTo(l.modelCityObj.position)),l.mainInfoWindow.marker=void 0,l.mainInfoWindow.close(),c.instance.setSelectedMarker(void 0)}},{key:"returnModule",value:function(){return{errorLoadMap:l.errorLoadMap,initMap:l.initMap}}},{key:"setMarkerOnMap",value:function(e,t){t?e.setMap(l.map):e.setMap(void 0)}},{key:"toggleBounceMarker",value:function(e){e.getAnimation()?e.setAnimation(void 0):(l.markers.forEach(function(e){e.setAnimation(void 0)}),e.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){return e.setAnimation(void 0)},1500))}}]),l}(),s=new(function(){function e(){t(this,e),this.modalElement=document.getElementsByClassName("modal")[0],this.modalElementContent=document.getElementsByClassName("modal__content")[0],this.modalElementCloseBtn=document.getElementsByClassName("modal__close-btn")[0],this.loadingFormElement=document.getElementsByClassName("form__load-screen")[0],this.isInitialModal=!0,this.loadingFormElement.insertAdjacentHTML("beforeend",n),setTimeout(this.launchFirstModal.bind(this),350),this.events()}return a(e,[{key:"events",value:function(){document.addEventListener("keyup",this.keyPressHandler.bind(this))}},{key:"launchFirstModal",value:function(){this.modalElementContent.classList.remove("modal__content--hidden")}},{key:"openModal",value:function(){!0===this.isInitialModal&&(this.isInitialModal=!1,this.modalElementCloseBtn.classList.remove("modal__close-btn--hidden")),this.modalElement.classList.remove("modal--hidden")}},{key:"closeModal",value:function(e){e.modalElement.classList.add("modal--hidden"),e.loadingFormElement.classList.remove("form__load-screen--visible")}},{key:"keyPressHandler",value:function(e){27===e.keyCode&&!1===this.isInitialModal&&this.closeModal(this)}},{key:"openFormLoadScreen",value:function(){this.loadingFormElement.classList.add("form__load-screen--visible")}}]),e}()),c=function(){function e(a){t(this,e);var o=this;o.mapLoadFail=window.ko.observable(!1),o.markersReady=window.ko.observable("").extend({notify:"always"}),o.markersObservable=window.ko.observableArray([]),o.selectedMarker=window.ko.observable(void 0),o.createMarkersObservable=window.ko.computed(function(){if(o.markersReady())return o.markersObservable(l.markers),o.markersSort(o.markersObservable),!0},o),o.query=window.ko.observable(""),o.queryOld=window.ko.observable(""),o.queryPlaceholder=window.ko.observable(""),o.query.subscribe(o.queryProcessInput,o),o.queryLiveSearch=window.ko.observable(o.query()),o.queryLiveSearchDelayed=window.ko.pureComputed(o.queryLiveSearch).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:750}}),o.queryLiveSearchDelayed.subscribe(o.searchPlaces,o),o.queryLiveSearchLoading=window.ko.observable(!1),o.queryLiveSearchResultText=window.ko.observable(""),o.computedCityString=window.ko.observable(),o.displayedCityString=window.ko.observable(),o.form={},o.form.selectedCityValue=window.ko.observable("Tokyo"),o.form.selectedListMode=window.ko.observable("curated"),o.form.optionsCities=a.cities.map(function(e){return{cityString:e.cityName+(e.localLang?" - "+e.localLang:""),cityValue:e.cityName}}),o.form.selectedCityObj=window.ko.computed(function(){var e=a.cities.find(function(e){return e.cityName.toLowerCase()===o.form.selectedCityValue().toLowerCase()});return e&&(e.localLang?o.computedCityString(e.cityName+" - "+e.localLang):o.computedCityString(e.cityName)),e}),o.form.curatedDisabled=window.ko.computed(function(){return 0===o.form.selectedCityObj().locations.length?(o.form.selectedListMode("liveSearch"),!0):(o.form.selectedListMode("curated"),!1)})}return a(e,[{key:"clickArrow",value:function(e){if(this.markersObservable().length>1){var t=(this.markersObservable.indexOf(l.mainInfoWindow.marker)+e)%this.markersObservable().length;-1===t&&(t=this.markersObservable().length-1);var a=this.markersObservable()[t];l.popInfoWindow(a)}}},{key:"clickLocationList",value:function(t){window.matchMedia("(max-width: 767px)").matches&&e.instance.toggleSidebar(),l.popInfoWindow(t)}},{key:"changeCity",value:function(){s.openModal()}},{key:"clickNextArrow",value:function(){this.clickArrow(1)}},{key:"clickPrevArrow",value:function(){this.clickArrow(-1)}},{key:"closeModal",value:function(){s.closeModal(s)}},{key:"clearMarkersObservable",value:function(){this.markersObservable([])}},{key:"filterMarkerList",value:function(e){if(""!==e){this.markersObservable([]),l.markers.forEach(function(t){t.title.toUpperCase().indexOf(e.toUpperCase())>=0?(this.markersObservable.push(t),t.getMap()||l.setMarkerOnMap(t,!0),l.queryBoundsExtend(t.position)):l.setMarkerOnMap(t,!1)},this);var t=this.markersObservable().length;1===t?(l.mainInfoWindow.marker||l.popInfoWindow(this.markersObservable()[0]),l.queryBoundsFit(!1)):t>1&&(l.closeInfoWindow(),this.markersSort(this.markersObservable),l.queryBoundsFit(!0))}else l.markers.forEach(function(e){e.getMap()||l.setMarkerOnMap(e,!0)}),this.markersObservable(l.markers),this.markersSort(this.markersObservable),this.resetMap()}},{key:"getVisibleMarkers",value:function(){return this.markersObservable()}},{key:"listElementInfoWindowOpen",value:function(e){return this.selectedMarker()===e}},{key:"loadFormData",value:function(){"curated"===this.form.selectedListMode()?(this.queryPlaceholder("Filter..."),l.loadMode(this.form.selectedCityObj(),"curated")):"liveSearch"===this.form.selectedListMode()&&(this.queryPlaceholder("Search..."),l.loadMode(this.form.selectedCityObj(),"liveSearch")),this.query(""),this.queryLiveSearchResultText(""),this.displayedCityString(this.computedCityString()),s.closeModal(s)}},{key:"notifyMapLoadFail",value:function(e){this.mapLoadFail(e)}},{key:"markersSort",value:function(e){e.sort(function(e,t){return e.title===t.title?0:e.title>t.title?1:-1})}},{key:"queryProcessInput",value:function(e){(e=e.trim())!==this.queryOld()&&(this.queryOld(e),"curated"===this.form.selectedListMode()?this.filterMarkerList(e):"liveSearch"===this.form.selectedListMode()&&this.queryLiveSearch(this.query()))}},{key:"resetMap",value:function(){this.query(""),this.queryLiveSearchResultText(""),this.queryLiveSearchLoading(!1),l.resetMap()}},{key:"searchPlaces",value:function(e){if(e.length>2){this.queryLiveSearchLoading(!0);var t=this.form.selectedCityObj().cityName,a=this.form.selectedCityObj().position;l.livePlacesSearch(t,a,e)}}},{key:"searchPlacesCompleted",value:function(e){this.queryLiveSearchLoading(!1),"success"===e?this.queryLiveSearchResultText(""):"noresults"===e?this.queryLiveSearchResultText("No Results"):"error"===e&&this.queryLiveSearchResultText("Search Error")}},{key:"setSelectedMarker",value:function(e){this.selectedMarker(e)}},{key:"submitModal",value:function(){s.openFormLoadScreen(),this.loadFormData()}},{key:"toggleSidebar",value:function(){var e=document.getElementsByClassName("sidebar"),t=document.getElementsByClassName("hamburger__bar");if(e[0].classList.contains("sidebar--show")){var a=!0,o=!1,i=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var l=n.value;l.classList.add("sidebar--hide"),l.classList.remove("sidebar--show")}}catch(e){o=!0,i=e}finally{try{!a&&r.return&&r.return()}finally{if(o)throw i}}var s=!0,c=!1,d=void 0;try{for(var u,m=t[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){u.value.classList.remove("hamburger__bar--active")}}catch(e){c=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(c)throw d}}}else{var p=!0,y=!1,f=void 0;try{for(var h,g=e[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var v=h.value;v.classList.remove("sidebar--hide"),v.classList.add("sidebar--show")}}catch(e){y=!0,f=e}finally{try{!p&&g.return&&g.return()}finally{if(y)throw f}}var k=!0,w=!1,b=void 0;try{for(var M,_=t[Symbol.iterator]();!(k=(M=_.next()).done);k=!0){M.value.classList.add("hamburger__bar--active")}}catch(e){w=!0,b=e}finally{try{!k&&_.return&&_.return()}finally{if(w)throw b}}}}}]),e}(),d={defaultArea:{city:"Tokyo",country:"Japan",countrycode:"jp",localLang:"東京都",type:"museum",position:{lat:35.683333,lng:139.683333}},cities:[{cityName:"Tokyo",country:"Japan",countrycode:"jp",localLang:"東京都",position:{lat:35.683333,lng:139.683333},locations:[{title:"Tokyo Metropolitan Art Museum",position:{lat:35.717181,lng:139.772818},type:"art",place_id:"ChIJb_o7HiiMGGARUKu8uO7fGIQ"},{title:"Tokyo Waterworks Historical Museum",position:{lat:35.7033346,lng:139.7604967},type:"history",place_id:"ChIJrVm8DD2MGGARX70ZvbreBlQ"},{title:"Mitsubishi Ichigokan Museum",position:{lat:35.67833169999999,lng:139.7632194},type:"art",place_id:"ChIJuyY-ZfqLGGAREYR9A10IXPQ"},{title:"Tokyo Toy Museum",position:{lat:35.68973,lng:139.718039},type:"kids",place_id:"ChIJHeBCIOyMGGAR7BktETlUP_w"},{title:"Tokyo National Museum",position:{lat:35.7187026,lng:139.7763106},type:"history",place_id:"ChIJycHKF4OOGGARZlm_joH52qI"},{title:"Advertising Museum Tokyo",position:{lat:35.6649201,lng:139.7625548},type:"art",place_id:"ChIJ2VtGysKLGGAR2oS8_Y_o-pk"},{title:"National Museum of Western Art",position:{lat:35.71538690000001,lng:139.7758138},type:"art",place_id:"ChIJf8xB-pyOGGARizzhlNTcI7s"},{title:"Samurai Museum",position:{lat:35.6954844,lng:139.7035426},type:"history",place_id:"ChIJ__-PU9iMGGAR6KHVhaRiqH8"},{title:"National Museum of Nature and Science",position:{lat:35.716357,lng:139.7763826},type:"science",place_id:"ChIJ8Vuh65yOGGARyj4L5IBFiIk"},{title:"National Museum of Modern Art",position:{lat:35.6905432,lng:139.7546932},type:"art",place_id:"ChIJL0kSfg2MGGARKv5KX53ZZ2Y"}]},{cityName:"Yokohama",country:"Japan",countrycode:"jp",localLang:"横浜市",position:{lat:35.444167,lng:139.638056},locations:[{title:"Yokohama Cup Noodles Museum",position:{lat:35.4554746,lng:139.6388986},type:"general",place_id:"ChIJ3ZNhe1dcGGARvjq5QHdmaHM"},{title:"Yokohama Customs Museum",position:{lat:35.4489288,lng:139.6425099},type:"general",place_id:"ChIJ8yZGpPlcGGARlT0nV19cMnI"},{title:"Yokohama Museum of Art Grand Gallery",position:{lat:35.457223,lng:139.630459},type:"art",place_id:"ChIJH-7CrUJcGGARRheV9VFwl0I"},{title:"NYK Maritime Museum",position:{lat:35.4503787,lng:139.639431},type:"history",place_id:"ChIJRZpr7fdcGGARzUmeVzAG0B0"},{title:"Silk Museum",position:{lat:35.4472062,lng:139.6451657},type:"history",place_id:"ChIJUxedePxcGGARVT8JmV27_aE"},{title:"Yokohama Doll Museum",position:{lat:35.443169,lng:139.652108},type:"general",place_id:"ChIJsynq2h1dGGARIJ4iBe7hUpc"},{title:"Kanagawa Prefectural Museum of Cultural History",position:{lat:35.449156,lng:139.6362085},type:"history",place_id:"ChIJjb2TFfZcGGAR0f_ZDI5lRcg"},{title:"Yokohama Archives of History",position:{lat:35.447663,lng:139.643911},type:"history",place_id:"ChIJ0ZTmwftcGGARLB7D7g4o79Y"},{title:"Hara Model Railway Museum",position:{lat:35.463158,lng:139.62477},type:"general",place_id:"ChIJ8yJ9aWtcGGARv6WSnehPIwQ"},{title:"Anpanman Museum",position:{lat:35.4585909,lng:139.6254503},type:"kids",place_id:"ChIJVVXFR2lcGGAR8aCbEZKt0yo"}]},{cityName:"Osaka",country:"Japan",countrycode:"jp",localLang:"大阪市",position:{lat:34.693889,lng:135.502222},locations:[{title:"Osaka Museum of History",position:{lat:34.682652,lng:135.5208},type:"history",place_id:"ChIJR5zaJTLnAGARyuJ_yX2DhOk"},{title:"Osaka Science Museum",position:{lat:34.691384,lng:135.491479},type:"science",place_id:"ChIJrVid0PbmAGARVvoeAwYmgg4"},{title:"The National Museum of Art, Osaka",position:{lat:34.691829,lng:135.491948},type:"art",place_id:"ChIJq6o6zPbmAGAR5Q9OsQN_voo"},{title:"Museum of Oriental Ceramics, Osaka",position:{lat:34.693484,lng:135.505417},type:"art",place_id:"ChIJhQQzld3mAGAR1oYbB9a77vQ"},{title:"Abeno Harukas Art Museum",position:{lat:34.6457933,lng:135.5140916},type:"art",place_id:"ChIJw_dasfHdAGARPIYrcFpn6aY"},{title:"Osaka Museum of Housing and Living",position:{lat:34.710397,lng:135.511641},type:"history",place_id:"ChIJ7xEdT7nmAGARYQc8ZWRPI5Q"},{title:"Osaka International Peace Center",position:{lat:34.6818454,lng:135.5298354},type:"history",place_id:"ChIJ0X861cvgAGARSrukky_tpoI"},{title:"Mint Museum",position:{lat:34.6957662,lng:135.5216638},type:"history",place_id:"ChIJK4WCStTmAGAREg2BPGKLD-Q"},{title:"Kids Plaza Osaka",position:{lat:34.7045728,lng:135.5104418},type:"kids",place_id:"ChIJEZamxsDmAGARdScVXFQanLU"},{title:"Osaka Museum of Natural History",position:{lat:34.6102774,lng:135.5216484},type:"science",place_id:"ChIJDXa8qOjmAGARGeBCBnhGKOY"}]},{cityName:"Nagoya",country:"Japan",countrycode:"jp",localLang:"名古屋市",position:{lat:35.183333,lng:136.9},locations:[]},{cityName:"Sapporo",country:"Japan",countrycode:"jp",localLang:"札幌市",position:{lat:43.066667,lng:141.35},locations:[]},{cityName:"Kobe",country:"Japan",countrycode:"jp",localLang:"神戸市",position:{lat:34.69,lng:135.195556},locations:[]},{cityName:"Kyoto",country:"Japan",countrycode:"jp",localLang:"京都市",position:{lat:35.011667,lng:135.768333},locations:[]},{cityName:"Fukuoka",country:"Japan",countrycode:"jp",localLang:"福岡市",position:{lat:33.583333,lng:130.4},locations:[]},{cityName:"Kawasaki",country:"Japan",countrycode:"jp",localLang:"川崎市",position:{lat:35.516667,lng:139.7},locations:[]},{cityName:"Saitama",country:"Japan",countrycode:"jp",localLang:"さいたま市",position:{lat:35.861389,lng:139.645556},locations:[]},{cityName:"Hiroshima",country:"Japan",countrycode:"jp",localLang:"広島市",position:{lat:34.385278,lng:132.455278},locations:[]},{cityName:"Sendai",country:"Japan",countrycode:"jp",localLang:"仙台市",position:{lat:38.268222,lng:140.869417},locations:[]},{cityName:"Kitakyushu",country:"Japan",countrycode:"jp",localLang:"北九州市",position:{lat:33.883333,lng:130.883333},locations:[]},{cityName:"Chiba",country:"Japan",countrycode:"jp",localLang:"千葉市",position:{lat:35.607278,lng:140.106361},locations:[]}]};return l.corsServer="http://localhost:8080",l.defaultPosition=d.defaultArea.position,l.defaultType=d.defaultArea.type,window.ko&&(window.ko.options.deferUpdates=!0,c.instance=new c(d),window.ko.applyBindings(c.instance)),l.returnModule()}();