/*! museum-guide | Patrick Dorosz | ISC */

var museumMapApp=function(){"use strict";var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#736c68"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#e7e6e5"}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"on"},{color:"#d4e4d3"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f5f5f5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d4e4d3"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f5f5f5"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#e7e6e5"},{gamma:"0.65"},{lightness:"0"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#aad5df"}]}],t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),a=function(){function e(i,a){t(this,e),this.placesService=new window.google.maps.places.PlacesService(i),this.googleMapView=a}return i(e,[{key:"livePlacesSearch",value:function(e,t,i,a,o){function n(e,t){if(t===window.google.maps.places.PlacesServiceStatus.OK){var i=e.slice(0,10).map(function(e){return e.place_id});r.getDetailsFromPlaceIds(i,o)}else if(t===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT)window.setTimeout(function(){r.placesService.nearbySearch(l,n)},200);else{var a=new Error(t);r.googleMapView.loadPlacesSearchResults(a)}}var r=this,l={keyword:e,location:t,name:a,radius:1e4,type:i};r.placesService.nearbySearch(l,n)}},{key:"getDetailsFromPlaceIds",value:function(e,t){var i=this,a=e.map(function(e){return new Promise(function(t,a){i.getDetailsFromSinglePlaceId(e,t,a)})});Promise.all(a).then(i.formatResults).then(function(e){i.googleMapView.loadPlacesSearchResults(e,t)}).catch(function(e){i.googleMapView.loadPlacesSearchResults(e,t)})}},{key:"getDetailsFromSinglePlaceId",value:function(e,t,i){var a=this;a.placesService.getDetails({placeId:e},function(o,n){if(n===window.google.maps.places.PlacesServiceStatus.OK)t(o);else if(n===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT)window.setTimeout(function(){a.getDetailsFromSinglePlaceId(e,t,i)},200);else{var r=new Error(n);i(r)}})}},{key:"formatResults",value:function(e){return e.map(function(e){return{title:e.name,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},type:"general",place_id:e.place_id}})}}]),e}(),o=function(){return{getYelpInfoHtml:function(e,t){var i='<div class="yelp">';return i+='<img class="yelp__image" src='+e.image_url.replace(/o\.jpg$/,"l.jpg")+' alt="Museum">',i+='<div class="yelp__info">',i+='<a class="yelp__rating" href="'+e.url+'" target="_blank" rel="noopener">',i+=function(e){var t=Math.floor(e),i=e-t==.5?"_half":"",a='<img src="img/yelp_stars_reg/regular_';return a+=""+t+i+'.png" srcset="img/yelp_stars_reg/',a+="regular_"+t+i+'@2x.png 2x">'}(e.rating)+"</a>",i+='<a target="_blank" href="'+e.url+'" rel="noopener">',i+='<img class="yelp__logo" src="img/yelp_trademark_rgb_outline.png" ',i+='srcset="img/yelp_trademark_rgb_outline_2x.png 2x" alt="Yelp Logo">',i+="</a>",i+='<a class="yelp__reviews" href="'+e.url+'" target="_blank" rel="noopener">Based ',i+="on <strong>"+e.review_count+"</strong> review",i+=(e.review_count>1?"s":"")+"</a>",i+='<address class="yelp__address">'+function(e,t){return e[e.length-1].toLowerCase()===t.toLowerCase()&&(e=e.slice(0,e.length-1)),e.join("<br>")}(e.location.display_address,t),i+="</address>",e.hasOwnProperty("is_open_now")?(i+='<p class="yelp__open-now-phone">Currently <strong>',i+=(e.is_open_now?"OPEN":"CLOSED")+"</strong><br>"):i+='<p class="yelp__open-now-phone">',i+="Phone: "+e.display_phone+"</p>",i+="</div>",i+="</div>"},fetchYelpInfo:function(e,t){var i=t+"/yelp-search?term="+e.title.replace(/\s+/g,"+")+"&";return i+="lat="+e.position.lat()+"&",i+="lng="+e.position.lng(),window.fetch(i,{method:"GET"}).catch(function(e){return Promise.reject(e)}).then(function(e){return e.ok?e:Promise.reject(new Error("api.yelp.com connection error"))}).then(function(e){return e.json()})}}}(),n=function(){var e='<div class="sk-circle">';return Array(12).fill().map(function(e,t){return t+1}).forEach(function(t){e+='<div class="sk-circle'+t+' sk-child"></div>'}),e+="</div>"}(),r=function(e){var t="abcdefghijklmnopqrstuvwxyz0123456789",i="";e=e||6;for(var a=0;a<e;a++)i+=t.charAt(Math.floor(Math.random()*t.length));return i},l=function(){function l(){t(this,l)}return i(l,null,[{key:"closeInfoWindow",value:function(){l.mainInfoWindow.close(),l.mainInfoWindow.marker=void 0,c.instance.setSelectedMarker(void 0)}},{key:"deleteMarkers",value:function(){l.markers.forEach(function(e){e.setMap(void 0)}),l.markers=[],c.instance.clearMarkersObservable(),l.currentBounds=new window.google.maps.LatLngBounds}},{key:"errorLoadMap",value:function(){c.instance&&c.instance.notifyMapLoadFail(!0)}},{key:"hideListView",value:function(){var e=document.getElementsByClassName("sidebar");if(e[0].classList.contains("sidebar--show")){var t=!0,i=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var r=o.value;r.classList.add("sidebar--hide"),r.classList.remove("sidebar--show")}}catch(e){i=!0,a=e}finally{try{!t&&n.return&&n.return()}finally{if(i)throw a}}}}},{key:"initMap",value:function(){var t=document.getElementsByClassName("map")[0];l.map=new window.google.maps.Map(t,{center:{lat:l.defaultPosition.lat,lng:l.defaultPosition.lng},zoom:12,styles:e}),l.placesSearch=new a(l.map,l);document.getElementsByClassName("sidebar-list__live-search-loading")[0].insertAdjacentHTML("afterbegin",n),window.onresize=l.onWindowResize,t.addEventListener("click",l.hideListView),l.markers=[],(l.mainInfoWindow=new window.google.maps.InfoWindow({maxWidth:250})).addListener("closeclick",function(){l.mainInfoWindow.marker=void 0,c.instance.setSelectedMarker(void 0)})}},{key:"livePlacesSearch",value:function(e,t,i){var a=r(5);l.currentSearchSessionHash=a,l.deleteMarkers(),l.placesSearch.livePlacesSearch(e,t,l.defaultType,i,a)}},{key:"loadMode",value:function(e,t){void 0!==l.mode&&l.modelCityObj===e&&"curated"===t&&"curated"===l.mode||(l.deleteMarkers(),l.modelCityObj=e,l.mode=t,"curated"===t&&(l.loadMarkers(e.locations),l.hideListView())),l.resetMap()}},{key:"loadMarkers",value:function(e){e.forEach(function(e){var t=new window.google.maps.Marker({position:e.position,title:e.title,animation:window.google.maps.Animation.DROP,icon:"img/icons/"+e.type+".png",map:l.map});t.addListener("click",function(){l.hideListView(),l.popInfoWindow(this)}),l.markers.push(t),l.currentBounds.extend(t.position),t.show=!1}),c.instance.markersReady(""),c.instance.markersReady(l.modelCityObj.cityName)}},{key:"loadPlacesSearchResults",value:function(e,t){t===l.currentSearchSessionHash&&(e instanceof Error?c.instance.searchPlacesCompleted("error"):0===e.length?c.instance.searchPlacesCompleted("noresults"):(l.deleteMarkers(),l.loadMarkers(e),l.map.fitBounds(l.currentBounds),c.instance.searchPlacesCompleted("success")))}},{key:"onWindowResize",value:function(){if(c.instance){var e=c.instance.getVisibleMarkers();e.length>1?l.mainInfoWindow.marker?(l.map.panTo(l.mainInfoWindow.marker.position),l.map.panBy(0,-340)):(l.resizeBounds=new window.google.maps.LatLngBounds,e.forEach(function(e){l.resizeBounds.extend(e.position)}),l.map.fitBounds(l.resizeBounds),l.resizeBounds=void 0,l.map.getZoom()>18&&l.map.setZoom(18)):1===e.length&&(l.map.panTo(e[0].position),l.map.panBy(0,-340))}if(window.matchMedia("(min-width: 768px)").matches){var t=document.getElementsByClassName("sidebar"),i=!0,a=!1,o=void 0;try{for(var n,r=t[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){n.value.classList.remove("sidebar--show")}}catch(e){a=!0,o=e}finally{try{!i&&r.return&&r.return()}finally{if(a)throw o}}}}},{key:"popInfoWindow",value:function(e){function t(){var e=document.getElementsByClassName("info-window__arrows")[0],t="css: { 'btn--disabled': markersObservable().length < 2 }";e&&(e.children[0].setAttribute("data-bind","click: clickPrevArrow, "+t),e.children[1].setAttribute("data-bind","click: clickNextArrow, "+t),window.ko.applyBindings(c.instance,e))}function i(e,t){var i='<div class="info-window">';return i+='<div class="info-window__title"><strong>'+t+"</strong></div>",i+=e,i+=function(){var e='<div class="info-window__arrows">';return e+='<a href="#" role="button" class="btn info-window__arrows-prev"',e+='><span class="info-window__arrows-text">&lt;</span></a>',e+='<a href="#" class="btn info-window__arrows-next" role="button"',e+='><span class="info-window__arrows-text">&gt;</span></a>',e+="</div>"}(),i+="</div>"}if(l.toggleBounceMarker(e),l.mainInfoWindow.marker!==e){l.mainInfoWindow.marker=e,c.instance.setSelectedMarker(e),l.map.panTo(e.position),l.map.panBy(0,-340);var a=i(n,e.title);l.mainInfoWindow.setContent(a),l.mainInfoWindow.open(l.map,e),t(),o.fetchYelpInfo(e,l.corsServer).then(function(n){if(l.mainInfoWindow.marker===e){if(0===Object.keys(n).length){var r="<p>This location's information is not found in Yelp's business ";a=i(r+="directory. Try a different location.</p>",e.title),l.mainInfoWindow.setContent(a),t()}else{var s=o.getYelpInfoHtml(n,l.modelCityObj.country);a=i(s,e.title),l.mainInfoWindow.setContent(a),t()}}}).catch(function(o){if(l.mainInfoWindow.marker===e){var n="<p>Unable to retrieve this location's Yelp data due to a ";return n+="connection error. Please try again later.</p>",a=i(n,"Loading Error"),l.mainInfoWindow.setContent(a),t(),o}})}}},{key:"queryBoundsExtend",value:function(e){l.queryBounds||(l.queryBounds=new window.google.maps.LatLngBounds),l.queryBounds.extend(e)}},{key:"queryBoundsFit",value:function(e){e&&l.map.fitBounds(l.queryBounds),l.queryBounds=void 0,l.map.getZoom()>18&&l.map.setZoom(18)}},{key:"resetMap",value:function(){"curated"===l.mode?l.map.fitBounds(l.currentBounds):"liveSearch"===l.mode&&(l.currentSearchSessionHash=void 0,l.deleteMarkers(),l.map.panTo(l.modelCityObj.position)),l.mainInfoWindow.marker=void 0,l.mainInfoWindow.close(),c.instance.setSelectedMarker(void 0)}},{key:"returnModule",value:function(){return{errorLoadMap:l.errorLoadMap,initMap:l.initMap}}},{key:"setMarkerOnMap",value:function(e,t){t?e.setMap(l.map):e.setMap(void 0)}},{key:"toggleBounceMarker",value:function(e){e.getAnimation()?e.setAnimation(void 0):(l.markers.forEach(function(e){e.setAnimation(void 0)}),e.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){return e.setAnimation(void 0)},1500))}}]),l}(),s=new(function(){function e(){t(this,e),this.modalElement=document.getElementsByClassName("modal")[0],this.modalElementHeadlines=document.getElementsByClassName("modal__headlines")[0],this.modalElementContent=document.getElementsByClassName("modal__content")[0],this.modalElementCloseBtn=document.getElementsByClassName("modal__close-btn")[0],this.formLoadingScreen=document.getElementsByClassName("form__load-screen")[0],this.isInitialModal=!0,this.formLoadingScreen.insertAdjacentHTML("beforeend",n),setTimeout(this.launchFirstModal.bind(this),350),this.events()}return i(e,[{key:"events",value:function(){document.addEventListener("keyup",this.keyPressHandler.bind(this))}},{key:"launchFirstModal",value:function(){this.modalElementContent.classList.remove("modal__content--hidden"),this.modalElementHeadlines.classList.add("modal__headlines--visible-background")}},{key:"openFormLoadingMode",value:function(){this.formLoadingScreen.classList.add("form__load-screen--visible")}},{key:"openModal",value:function(){!0===this.isInitialModal&&(this.isInitialModal=!1,this.modalElementCloseBtn.classList.remove("modal__close-btn--hidden")),this.modalElement.classList.remove("modal--hidden")}},{key:"closeModal",value:function(e){e.modalElement.classList.add("modal--hidden"),e.formLoadingScreen.classList.remove("form__load-screen--visible")}},{key:"keyPressHandler",value:function(e){27===e.keyCode&&!1===this.isInitialModal&&this.closeModal(this)}}]),e}()),c=function(){function e(i){t(this,e);var a=this;a.mapLoadFail=window.ko.observable(!1),a.markersReady=window.ko.observable("").extend({notify:"always"}),a.markersObservable=window.ko.observableArray([]),a.selectedMarker=window.ko.observable(void 0),a.createMarkersObservable=window.ko.computed(function(){if(a.markersReady())return a.markersObservable(l.markers),a.markersSort(a.markersObservable),a.listElementsShow(),!0},a),a.listElementIsVisibleTrigger=window.ko.observable().extend({notify:"always"}),a.query=window.ko.observable(""),a.queryOld=window.ko.observable(""),a.queryPlaceholder=window.ko.observable(""),a.query.subscribe(a.queryProcessInput,a),a.queryLiveSearch=window.ko.observable(a.query()),a.queryLiveSearchDelayed=window.ko.pureComputed(a.queryLiveSearch).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:750}}),a.queryLiveSearchDelayed.subscribe(a.searchPlaces,a),a.queryLiveSearchLoading=window.ko.observable(!1),a.queryLiveSearchResultText=window.ko.observable(""),a.displayedCountryString=window.ko.computed(function(){return i.defaultArea.localLang?i.defaultArea.country+" - "+i.defaultArea.localLang:i.defaultArea.country}),a.computedCityString=window.ko.observable(""),a.displayedCityString=window.ko.observable(""),a.displayedCityTitleAttr=window.ko.observable(""),a.displayedCityVisible=window.ko.observable(!1).extend({notify:"always"}),a.form={},a.form.selectedCityValue=window.ko.observable("Tokyo"),a.form.selectedListMode=window.ko.observable("curated"),a.form.optionsCities=i.cities.map(function(e){return{cityString:e.cityName+(e.localLang?" - "+e.localLang:""),cityValue:e.cityName}}),a.form.selectedCityObj=window.ko.computed(function(){var e=i.cities.find(function(e){return e.cityName.toLowerCase()===a.form.selectedCityValue().toLowerCase()});return e&&(e.localLang?a.computedCityString(e.cityName+" - "+e.localLang):a.computedCityString(e.cityName)),e}),a.form.curatedDisabled=window.ko.computed(function(){return 0===a.form.selectedCityObj().locations.length?(a.form.selectedListMode("liveSearch"),!0):(a.form.selectedListMode("curated"),!1)})}return i(e,[{key:"clickArrow",value:function(e){if(this.markersObservable().length>1){var t=(this.markersObservable.indexOf(l.mainInfoWindow.marker)+e)%this.markersObservable().length;-1===t&&(t=this.markersObservable().length-1);var i=this.markersObservable()[t];l.popInfoWindow(i)}}},{key:"clickLocationList",value:function(t){window.matchMedia("(max-width: 767px)").matches&&e.instance.toggleSidebar(),l.popInfoWindow(t)}},{key:"changeCity",value:function(){s.openModal()}},{key:"clickNextArrow",value:function(){this.clickArrow(1)}},{key:"clickPrevArrow",value:function(){this.clickArrow(-1)}},{key:"closeModal",value:function(){s.closeModal(s)}},{key:"clearMarkersObservable",value:function(){this.markersObservable([])}},{key:"filterMarkerList",value:function(e){if(""!==e){this.markersObservable([]),l.markers.forEach(function(t){t.title.toUpperCase().indexOf(e.toUpperCase())>=0?(this.markersObservable.push(t),t.getMap()||l.setMarkerOnMap(t,!0),l.queryBoundsExtend(t.position)):l.setMarkerOnMap(t,!1)},this);var t=this.markersObservable().length;1===t?(l.mainInfoWindow.marker||l.popInfoWindow(this.markersObservable()[0]),l.queryBoundsFit(!1)):t>1&&(l.closeInfoWindow(),this.markersSort(this.markersObservable),l.queryBoundsFit(!0))}else l.markers.forEach(function(e){e.getMap()||l.setMarkerOnMap(e,!0)}),this.markersObservable(l.markers),this.markersSort(this.markersObservable),this.resetMap()}},{key:"getVisibleMarkers",value:function(){return this.markersObservable()}},{key:"listElementInfoWindowOpen",value:function(e){return this.selectedMarker()===e}},{key:"listElementIsVisible",value:function(e){return this.listElementIsVisibleTrigger(),e.show}},{key:"listElementsShow",value:function(){var e=this;l.markers.forEach(function(t,i){window.setTimeout(function(){t.show=!0,e.listElementIsVisibleTrigger(!0)},50*(i+1))})}},{key:"loadFormData",value:function(){"curated"===this.form.selectedListMode()?(this.queryPlaceholder("Filter..."),l.loadMode(this.form.selectedCityObj(),"curated")):"liveSearch"===this.form.selectedListMode()&&(this.queryPlaceholder("Search..."),l.loadMode(this.form.selectedCityObj(),"liveSearch")),this.query(""),this.queryLiveSearchResultText(""),this.displayedCityVisible(!1),this.displayedCityString()!==this.computedCityString()?setTimeout(function(){this.displayedCityVisible(!0),this.displayedCityString(this.computedCityString()),this.setBackgroundImg(this.form.selectedCityObj().img)}.bind(this),300):this.displayedCityVisible(!0),s.closeModal(s)}},{key:"notifyMapLoadFail",value:function(e){this.mapLoadFail(e)}},{key:"markersSort",value:function(e){e.sort(function(e,t){return e.title===t.title?0:e.title>t.title?1:-1})}},{key:"queryProcessInput",value:function(e){(e=e.trim())!==this.queryOld()&&(this.queryOld(e),"curated"===this.form.selectedListMode()?this.filterMarkerList(e):"liveSearch"===this.form.selectedListMode()&&this.queryLiveSearch(this.query()))}},{key:"resetMap",value:function(){this.query(""),this.queryLiveSearchResultText(""),this.queryLiveSearchLoading(!1),l.resetMap()}},{key:"searchPlaces",value:function(e){if(e.length>2){this.queryLiveSearchLoading(!0);var t=this.form.selectedCityObj().cityName,i=this.form.selectedCityObj().position;l.livePlacesSearch(t,i,e)}}},{key:"searchPlacesCompleted",value:function(e){this.queryLiveSearchLoading(!1),"success"===e?this.queryLiveSearchResultText(""):"noresults"===e?this.queryLiveSearchResultText("No Results"):"error"===e&&this.queryLiveSearchResultText("Search Error")}},{key:"setBackgroundImg",value:function(e){this.displayedCityTitleAttr(e.title);var t=void 0;t=window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches?"_2x":"_1x";var i=document.getElementById("header__background-city--style"),a=".header__background-city {"+("_2x"===t?"\nbackground-size: 500px 80px;":"")+"\n      background-image: url(img/model/"+e.file+"-sm"+t+"."+e.ext+");\n    }\n\n    @media (min-width: 501px) {\n      .header__background-city {"+("_2x"===t?"\nbackground-size: 767px 80px;":"")+"\n        background-image: url(img/model/"+e.file+"-md"+t+"."+e.ext+");\n      }\n    }\n\n    @media (min-width: 768px) {\n      .header__background-city {"+("_2x"===t?"\nbackground-size: 500px 80px;":"")+"\n        background-image: url(img/model/"+e.file+"-sm"+t+"."+e.ext+");\n      }\n    }\n\n    @media (min-width: 816px) {\n      .header__background-city {"+("_2x"===t?"\nbackground-size: 767px 80px;":"")+"\n        background-image: url(img/model/"+e.file+"-md"+t+"."+e.ext+");\n      }\n    }\n\n    @media (min-width: 1083px) {\n      .header__background-city {"+("_2x"===t?"\nbackground-size: 1000px 80px;":"")+"\n        background-image: url(img/model/"+e.file+"-lg"+t+"."+e.ext+");\n      }\n    }";i.textContent=a}},{key:"setSelectedMarker",value:function(e){this.selectedMarker(e)}},{key:"submitModal",value:function(){s.openFormLoadingMode(),this.loadFormData()}},{key:"toggleSidebar",value:function(){var e=document.getElementsByClassName("sidebar"),t=document.getElementsByClassName("hamburger__bar");if(e[0].classList.contains("sidebar--show")){var i=!0,a=!1,o=void 0;try{for(var n,r=e[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var l=n.value;l.classList.add("sidebar--hide"),l.classList.remove("sidebar--show")}}catch(e){a=!0,o=e}finally{try{!i&&r.return&&r.return()}finally{if(a)throw o}}var s=!0,c=!1,d=void 0;try{for(var u,m=t[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){u.value.classList.remove("hamburger__bar--active")}}catch(e){c=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(c)throw d}}}else{var p=!0,y=!1,h=void 0;try{for(var f,g=e[Symbol.iterator]();!(p=(f=g.next()).done);p=!0){var k=f.value;k.classList.remove("sidebar--hide"),k.classList.add("sidebar--show")}}catch(e){y=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(y)throw h}}var w=!0,v=!1,_=void 0;try{for(var b,M=t[Symbol.iterator]();!(w=(b=M.next()).done);w=!0){b.value.classList.add("hamburger__bar--active")}}catch(e){v=!0,_=e}finally{try{!w&&M.return&&M.return()}finally{if(v)throw _}}}}}]),e}(),d={defaultArea:{city:"Tokyo",country:"Japan",countrycode:"jp",localLang:"東京都",type:"museum",position:{lat:35.683333,lng:139.683333}},cities:[{cityName:"Tokyo",country:"Japan",countrycode:"jp",localLang:"東京都",img:{file:"Tokyo_Diet_of_Japan_Kokkai_2009",ext:"jpg",title:"National Diet Building of Japan by Wiiii, CC-SA 3.0, https://commons.wikimedia.org/wiki/File:Diet_of_Japan_Kokkai_2009.jpg"},position:{lat:35.683333,lng:139.683333},locations:[{title:"Tokyo Metropolitan Art Museum",position:{lat:35.717181,lng:139.772818},type:"art",place_id:"ChIJb_o7HiiMGGARUKu8uO7fGIQ"},{title:"Tokyo Waterworks Historical Museum",position:{lat:35.7033346,lng:139.7604967},type:"history",place_id:"ChIJrVm8DD2MGGARX70ZvbreBlQ"},{title:"Mitsubishi Ichigokan Museum",position:{lat:35.67833169999999,lng:139.7632194},type:"art",place_id:"ChIJuyY-ZfqLGGAREYR9A10IXPQ"},{title:"Tokyo Toy Museum",position:{lat:35.68973,lng:139.718039},type:"kids",place_id:"ChIJHeBCIOyMGGAR7BktETlUP_w"},{title:"Tokyo National Museum",position:{lat:35.7187026,lng:139.7763106},type:"history",place_id:"ChIJycHKF4OOGGARZlm_joH52qI"},{title:"Advertising Museum Tokyo",position:{lat:35.6649201,lng:139.7625548},type:"art",place_id:"ChIJ2VtGysKLGGAR2oS8_Y_o-pk"},{title:"National Museum of Western Art",position:{lat:35.71538690000001,lng:139.7758138},type:"art",place_id:"ChIJf8xB-pyOGGARizzhlNTcI7s"},{title:"Samurai Museum",position:{lat:35.6954844,lng:139.7035426},type:"history",place_id:"ChIJ__-PU9iMGGAR6KHVhaRiqH8"},{title:"National Museum of Nature and Science",position:{lat:35.716357,lng:139.7763826},type:"science",place_id:"ChIJ8Vuh65yOGGARyj4L5IBFiIk"},{title:"National Museum of Modern Art",position:{lat:35.6905432,lng:139.7546932},type:"art",place_id:"ChIJL0kSfg2MGGARKv5KX53ZZ2Y"}]},{cityName:"Yokohama",country:"Japan",countrycode:"jp",localLang:"横浜市",img:{file:"Yokohama_Kanagawa_Prefectural_Office",ext:"jpg",title:"Kanagawa Prefectural Office by Wiiii, CC-SA 3.0, https://en.wikipedia.org/wiki/File:Kanagawa_Prefectural_Office.jpg"},position:{lat:35.444167,lng:139.638056},locations:[{title:"Yokohama Cup Noodles Museum",position:{lat:35.4554746,lng:139.6388986},type:"general",place_id:"ChIJ3ZNhe1dcGGARvjq5QHdmaHM"},{title:"Yokohama Customs Museum",position:{lat:35.4489288,lng:139.6425099},type:"general",place_id:"ChIJ8yZGpPlcGGARlT0nV19cMnI"},{title:"Yokohama Museum of Art Grand Gallery",position:{lat:35.457223,lng:139.630459},type:"art",place_id:"ChIJH-7CrUJcGGARRheV9VFwl0I"},{title:"NYK Maritime Museum",position:{lat:35.4503787,lng:139.639431},type:"history",place_id:"ChIJRZpr7fdcGGARzUmeVzAG0B0"},{title:"Silk Museum",position:{lat:35.4472062,lng:139.6451657},type:"history",place_id:"ChIJUxedePxcGGARVT8JmV27_aE"},{title:"Yokohama Doll Museum",position:{lat:35.443169,lng:139.652108},type:"general",place_id:"ChIJsynq2h1dGGARIJ4iBe7hUpc"},{title:"Kanagawa Prefectural Museum of Cultural History",position:{lat:35.449156,lng:139.6362085},type:"history",place_id:"ChIJjb2TFfZcGGAR0f_ZDI5lRcg"},{title:"Yokohama Archives of History",position:{lat:35.447663,lng:139.643911},type:"history",place_id:"ChIJ0ZTmwftcGGARLB7D7g4o79Y"},{title:"Hara Model Railway Museum",position:{lat:35.463158,lng:139.62477},type:"general",place_id:"ChIJ8yJ9aWtcGGARv6WSnehPIwQ"},{title:"Anpanman Museum",position:{lat:35.4585909,lng:139.6254503},type:"kids",place_id:"ChIJVVXFR2lcGGAR8aCbEZKt0yo"}]},{cityName:"Osaka",country:"Japan",countrycode:"jp",localLang:"大阪市",img:{file:"Osaka_jo_Castle",ext:"jpg",title:"Osaka jo Castle by Martinp1, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:Osaka_jo_Castle.jpg"},position:{lat:34.693889,lng:135.502222},locations:[{title:"Osaka Museum of History",position:{lat:34.682652,lng:135.5208},type:"history",place_id:"ChIJR5zaJTLnAGARyuJ_yX2DhOk"},{title:"Osaka Science Museum",position:{lat:34.691384,lng:135.491479},type:"science",place_id:"ChIJrVid0PbmAGARVvoeAwYmgg4"},{title:"The National Museum of Art, Osaka",position:{lat:34.691829,lng:135.491948},type:"art",place_id:"ChIJq6o6zPbmAGAR5Q9OsQN_voo"},{title:"Museum of Oriental Ceramics, Osaka",position:{lat:34.693484,lng:135.505417},type:"art",place_id:"ChIJhQQzld3mAGAR1oYbB9a77vQ"},{title:"Abeno Harukas Art Museum",position:{lat:34.6457933,lng:135.5140916},type:"art",place_id:"ChIJw_dasfHdAGARPIYrcFpn6aY"},{title:"Osaka Museum of Housing and Living",position:{lat:34.710397,lng:135.511641},type:"history",place_id:"ChIJ7xEdT7nmAGARYQc8ZWRPI5Q"},{title:"Osaka International Peace Center",position:{lat:34.6818454,lng:135.5298354},type:"history",place_id:"ChIJ0X861cvgAGARSrukky_tpoI"},{title:"Mint Museum",position:{lat:34.6957662,lng:135.5216638},type:"history",place_id:"ChIJK4WCStTmAGAREg2BPGKLD-Q"},{title:"Kids Plaza Osaka",position:{lat:34.7045728,lng:135.5104418},type:"kids",place_id:"ChIJEZamxsDmAGARdScVXFQanLU"},{title:"Osaka Museum of Natural History",position:{lat:34.6102774,lng:135.5216484},type:"science",place_id:"ChIJDXa8qOjmAGARGeBCBnhGKOY"}]},{cityName:"Nagoya",country:"Japan",countrycode:"jp",localLang:"名古屋市",img:{file:"Nagoya_Castle_with_Cherry_blossoms_31_Mar,_2016_-_panoramio",ext:"jpg",title:"桜と名古屋城(Nagoya Castle with Cherry blossoms) 31 Mar, 2016 by Hiroaki Kaneko, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:%E6%A1%9C%E3%81%A8%E5%90%8D%E5%8F%A4%E5%B1%8B%E5%9F%8E(Nagoya_Castle_with_Cherry_blossoms)_31_Mar,_2016_-_panoramio.jpg"},position:{lat:35.183333,lng:136.9},locations:[]},{cityName:"Sapporo",country:"Japan",countrycode:"jp",localLang:"札幌市",img:{file:"Sapporo_Hokkaido_Prefectural_Office02s5s4272",ext:"jpg",title:"Hokkaido Prefectural Office by 663highland, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:Hokkaido_Prefectural_Office02s5s4272.jpg"},position:{lat:43.066667,lng:141.35},locations:[]},{cityName:"Kobe",country:"Japan",countrycode:"jp",localLang:"神戸市",img:{file:"Kobe_port_tower11s3200",ext:"jpg",title:"Kobe Port Tower in the Kobe harbor by 663highland, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:Kobe_port_tower11s3200.jpg"},position:{lat:34.69,lng:135.195556},locations:[]},{cityName:"Kyoto",country:"Japan",countrycode:"jp",localLang:"京都市",img:{file:"Kyoto_Temple_of_the_Golden_Pavilion",ext:"jpg",title:"Temple of the Golden Pavilion by Fg2, https://en.wikipedia.org/wiki/File:Kinkaku3402CBcropped.jpg"},position:{lat:35.011667,lng:135.768333},locations:[]},{cityName:"Fukuoka",country:"Japan",countrycode:"jp",localLang:"福岡市",img:{file:"Fukuoka_Hakata_gion_yamakasa_2006_02",ext:"jpg",title:"Kakiyama, Hakata Gion Yamakasa by Pontafon, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:Hakata_gion_yamakasa_2006_02.jpg"},position:{lat:33.583333,lng:130.4},locations:[]},{cityName:"Kawasaki",country:"Japan",countrycode:"jp",localLang:"川崎市",img:{file:"Kawasaki_Daishi_Main_Hall",ext:"jpg",title:"The Main Hall of Heiken-ji (Kawasaki Daishi) temple by ペン太, CC BY-SA 3.0, https://commons.wikimedia.org/wiki/File:Kawasaki_Daishi_Main_Hall.jpg"},position:{lat:35.516667,lng:139.7},locations:[]},{cityName:"Saitama",country:"Japan",countrycode:"jp",localLang:"さいたま市",img:{file:"Saitama_Front_shrine_of_the_Hikawa_shrine",ext:"jpg",title:"Front of the Hikawa shrineby Ocdp, CC BY-SA 3.0, https://commons.wikimedia.org/wiki/File:Front_shrine_of_the_Hikawa_shrine.jpg"},position:{lat:35.861389,lng:139.645556},locations:[]},{cityName:"Hiroshima",country:"Japan",countrycode:"jp",localLang:"広島市",img:{file:"Hiroshima_Peace_Memorial_2008_02",ext:"jpg",title:"Hiroshima Peace Memorial by GFDL,CC BY-SA-2.1-JP, https://commons.wikimedia.org/wiki/File:Hiroshima_Peace_Memorial_2008_02.JPG"},position:{lat:34.385278,lng:132.455278},locations:[]},{cityName:"Sendai",country:"Japan",countrycode:"jp",localLang:"仙台市",img:{file:"Sendai_Zuiho-den",ext:"jpg",title:"Zuiho-den in Sendai by 663highland, CC BY-SA 3.0, https://en.wikipedia.org/wiki/File:Zuiho-den17s3872.jpg"},position:{lat:38.268222,lng:140.869417},locations:[]},{cityName:"Kitakyushu",country:"Japan",countrycode:"jp",localLang:"北九州市",img:{file:"Kitakyushu_Mojiko_Station_02",ext:"jpg",title:"Mojiko Station by Hide-sp, CC BY-SA 3.0, https://commons.wikimedia.org/wiki/File:Mojiko_Station_02.JPG"},position:{lat:33.883333,lng:130.883333},locations:[]},{cityName:"Chiba",country:"Japan",countrycode:"jp",localLang:"千葉市",img:{file:"Chiba_Makuhari_Oka1",ext:"jpg",title:"Downtown of Chiba Makuhari by Okajun, CC BY-SA 3.0, https://commons.wikimedia.org/wiki/File:Chiba_Makuhari_Oka1.jpg"},position:{lat:35.607278,lng:140.106361},locations:[]}]};return l.corsServer="https://museum-guide-server.herokuapp.com",window.fetch(l.corsServer+"/wakeup",{method:"GET"}).catch(function(e){return new Error(e.message)}),l.defaultPosition=d.defaultArea.position,l.defaultType=d.defaultArea.type,window.ko&&(window.ko.options.deferUpdates=!0,c.instance=new c(d),window.ko.applyBindings(c.instance)),l.returnModule()}();